(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cc73412"],{1276:function(e,t,r){"use strict";var a=r("d784"),i=r("44e7"),l=r("825a"),s=r("1d80"),n=r("4840"),o=r("8aa5"),u=r("50c4"),c=r("14c3"),g=r("9263"),d=r("d039"),p=[].push,f=Math.min,h=4294967295,m=!d((function(){return!RegExp(h,"y")}));a("split",2,(function(e,t,r){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var a=String(s(this)),l=void 0===r?h:r>>>0;if(0===l)return[];if(void 0===e)return[a];if(!i(e))return t.call(a,e,l);var n,o,u,c=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,m=new RegExp(e.source,d+"g");while(n=g.call(m,a)){if(o=m.lastIndex,o>f&&(c.push(a.slice(f,n.index)),n.length>1&&n.index<a.length&&p.apply(c,n.slice(1)),u=n[0].length,f=o,c.length>=l))break;m.lastIndex===n.index&&m.lastIndex++}return f===a.length?!u&&m.test("")||c.push(""):c.push(a.slice(f)),c.length>l?c.slice(0,l):c}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var i=s(this),l=void 0==t?void 0:t[e];return void 0!==l?l.call(t,i,r):a.call(String(i),t,r)},function(e,i){var s=r(a,e,this,i,a!==t);if(s.done)return s.value;var g=l(e),d=String(this),p=n(g,RegExp),y=g.unicode,v=(g.ignoreCase?"i":"")+(g.multiline?"m":"")+(g.unicode?"u":"")+(m?"y":"g"),b=new p(m?g:"^(?:"+g.source+")",v),_=void 0===i?h:i>>>0;if(0===_)return[];if(0===d.length)return null===c(b,d)?[d]:[];var x=0,w=0,F=[];while(w<d.length){b.lastIndex=m?w:0;var E,C=c(b,m?d:d.slice(w));if(null===C||(E=f(u(b.lastIndex+(m?0:w)),d.length))===x)w=o(d,w,y);else{if(F.push(d.slice(x,w)),F.length===_)return F;for(var k=1;k<=C.length-1;k++)if(F.push(C[k]),F.length===_)return F;w=x=E}}return F.push(d.slice(x)),F}]}),!m)},"14c3":function(e,t,r){var a=r("c6b6"),i=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var l=r.call(e,t);if("object"!==typeof l)throw TypeError("RegExp exec method returned something other than an Object or null");return l}if("RegExp"!==a(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"44e7":function(e,t,r){var a=r("861d"),i=r("c6b6"),l=r("b622"),s=l("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},"8aa5":function(e,t,r){"use strict";var a=r("6547").charAt;e.exports=function(e,t,r){return t+(r?a(e,t).length:1)}},9263:function(e,t,r){"use strict";var a=r("ad6d"),i=r("9f7f"),l=r("5692"),s=RegExp.prototype.exec,n=l("native-string-replace",String.prototype.replace),o=s,u=function(){var e=/a/,t=/b*/g;return s.call(e,"a"),s.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=i.UNSUPPORTED_Y||i.BROKEN_CARET,g=void 0!==/()??/.exec("")[1],d=u||g||c;d&&(o=function(e){var t,r,i,l,o=this,d=c&&o.sticky,p=a.call(o),f=o.source,h=0,m=e;return d&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),m=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(f="(?: "+f+")",m=" "+m,h++),r=new RegExp("^(?:"+f+")",p)),g&&(r=new RegExp("^"+f+"$(?!\\s)",p)),u&&(t=o.lastIndex),i=s.call(d?r:o,m),d?i?(i.input=i.input.slice(h),i[0]=i[0].slice(h),i.index=o.lastIndex,o.lastIndex+=i[0].length):o.lastIndex=0:u&&i&&(o.lastIndex=o.global?i.index+i[0].length:t),g&&i&&i.length>1&&n.call(i[0],r,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(i[l]=void 0)})),i}),e.exports=o},"9f7f":function(e,t,r){"use strict";var a=r("d039");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=a((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a927:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":{background:"#eef1f6",color:"#606266"}},on:{"selection-change":e.handleSelectionChange}},[e.isShowSelect?r("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),e._l(e.tableCol,(function(t,a){return["solt"==t.colType?r("el-table-column",{key:a+"only",attrs:{prop:t.field,label:t.label,width:t.width,align:t.align?t.align:"left"},scopedSlots:e._u([{key:"default",fn:function(a){return e._l(t.option,(function(t,i){return r("el-button",{key:i+"only",attrs:{type:"text",size:"small"},on:{click:function(e){return t.event(a.row)}}},[e._v(e._s(t.label))])}))}}],null,!0)}):r("el-table-column",{key:a+"only",attrs:{prop:t.field,label:t.label,width:t.width,align:t.align?t.align:"left"}})]}))],2),e.ispagination?r("div",{staticClass:"pagination-wrap"},[r("el-pagination",{attrs:{"current-page":e.listQuery.page,"page-sizes":[5,10,20,30,40,50,100],"page-size":e.listQuery.page_size,layout:"total, sizes, prev, pager, next, jumper",total:e.listQuery.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1)},i=[],l={name:"ELTable",props:{tableCol:{type:Array,default:function(){return[]}},tableData:{type:Array,default:function(){return[]}},ispagination:{type:Boolean,default:!0},isShowSelect:{type:Boolean,default:!1},listQuery:{type:Object,default:function(){return{page:1,page_size:10,total:0}}}},data:function(){return{}},methods:{handleSizeChange:function(e){this.$emit("sizeChange",e)},handleCurrentChange:function(e){this.$emit("currentChange",e)},handleSelectionChange:function(e){this.$emit("handleSelectionChange",e)}}},s=l,n=r("2877"),o=Object(n["a"])(s,a,i,!1,null,"f6412f26",null);t["a"]=o.exports},ac1f:function(e,t,r){"use strict";var a=r("23e7"),i=r("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(e,t,r){"use strict";var a=r("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},c75b:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"formDiv"},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[r("el-form-item",{attrs:{label:"工号"}},[r("el-input",{model:{value:e.listQuery.user_id,callback:function(t){e.$set(e.listQuery,"user_id",t)},expression:"listQuery.user_id"}})],1),r("el-form-item",{attrs:{label:"用户名"}},[r("el-input",{model:{value:e.listQuery.user_name,callback:function(t){e.$set(e.listQuery,"user_name",t)},expression:"listQuery.user_name"}})],1),r("el-form-item",{attrs:{label:"状态"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.listQuery.status,callback:function(t){e.$set(e.listQuery,"status",t)},expression:"listQuery.status"}},[r("el-option",{attrs:{label:"全部",value:""}}),r("el-option",{attrs:{label:"启用",value:"启用"}}),r("el-option",{attrs:{label:"禁用",value:"禁用"}})],1)],1),r("el-form-item",{staticStyle:{"margin-left":"20px !important"}},[r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.searchBtn}},[e._v("查询")]),r("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.resetForm()}}},[e._v("重置")])],1)],1)],1),r("el-card",{staticClass:"box-card mt20"},[r("div",{},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:e.addBtn}},[r("i",{staticClass:"el-icon-plus"}),e._v(" 新增")])],1)],1),r("ELTable",{attrs:{tableCol:e.tableCol,tableData:e.tableData,listQuery:e.listQuery,ispagination:e.ispagination},on:{currentChange:e.currentChange,sizeChange:e.sizeChange}})],1)]),r("el-dialog",{attrs:{title:e.dialogTitle,width:"600px",visible:e.dialogFlag,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFlag=t}}},[r("el-form",{ref:"dialogFormRef",staticStyle:{padding:"0 60px 0 20px"},attrs:{model:e.dialogForm,rules:e.dialogFormRules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"工号",prop:"user_id"}},[r("el-input",{model:{value:e.dialogForm.user_id,callback:function(t){e.$set(e.dialogForm,"user_id",t)},expression:"dialogForm.user_id"}})],1),r("el-form-item",{attrs:{label:"用户名",prop:"user_name"}},[r("el-input",{model:{value:e.dialogForm.user_name,callback:function(t){e.$set(e.dialogForm,"user_name",t)},expression:"dialogForm.user_name"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"user_password"}},[r("el-input",{attrs:{type:"password"},model:{value:e.dialogForm.user_password,callback:function(t){e.$set(e.dialogForm,"user_password",t)},expression:"dialogForm.user_password"}})],1),r("el-form-item",{attrs:{label:"权限",prop:"user_authorityArr"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",multiple:""},model:{value:e.dialogForm.user_authorityArr,callback:function(t){e.$set(e.dialogForm,"user_authorityArr",t)},expression:"dialogForm.user_authorityArr"}},e._l(e.WorkCodeNameList,(function(e,t){return r("el-option",{key:t+" search",attrs:{label:e.work_name,value:e.work_id}})})),1)],1),r("el-form-item",{attrs:{label:"状态",prop:"status"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.dialogForm.status,callback:function(t){e.$set(e.dialogForm,"status",t)},expression:"dialogForm.status"}},[r("el-option",{attrs:{label:"启用",value:"启用"}}),r("el-option",{attrs:{label:"禁用",value:"禁用"}})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFlag=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.dialogSave}},[e._v("确 定")])],1)],1)],1)},i=[],l=r("1da1"),s=r("5530"),n=(r("96cf"),r("159b"),r("1276"),r("ac1f"),r("a927")),o=r("fd03"),u=r("2f62"),c={name:"UserList",components:{ELTable:n["a"]},data:function(){return{listQuery:{user_id:"",user_name:"",status:"",page:1,page_size:10,total:0},listQueryBase:{user_id:"",user_name:"",status:"",page:1,page_size:10,total:0},ispagination:!0,dialogTitle:"",dialogFlag:!1,dialogForm:{user_code:"",user_id:"",user_name:"",user_password:"",user_authorityArr:[],user_authority:"",status:"启用"},dialogFormBase:{user_code:"",user_id:"",user_name:"",user_password:"",user_authorityArr:[],user_authority:"",status:"启用"},dialogFormRules:{user_id:[{required:!0,message:"请输入员工号",trigger:"blur"}],user_name:[{required:!0,message:"请输入用户名",trigger:"blur"}],user_password:[{required:!0,message:"请输入密码",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},tableCol:[{label:"员工内码",field:"user_code",align:"center"},{label:"工号",field:"user_id",align:"center"},{label:"用户名",field:"user_name",align:"center"},{label:"权限",field:"authorityStrArr",align:"center"},{label:"状态",field:"status",align:"center"},{label:"操作",colType:"solt",align:"center",option:[{label:"修改",event:this.colEditBtn},{label:"删除",event:this.colDeleteBtn}]}],tableData:[]}},computed:Object(s["a"])({},Object(u["c"])(["WorkCodeNameList"])),methods:Object(s["a"])(Object(s["a"])({},Object(u["b"])(["getLogisticWorkCodeName"])),{},{searchBtn:function(){this.listQuery.page=1,this.getLogisticPersonDeal(this.listQuery)},resetForm:function(){this.listQuery=JSON.parse(JSON.stringify(this.listQueryBase)),this.getLogisticPersonDeal(this.listQuery)},currentChange:function(e){this.listQuery.page=e,this.getLogisticPersonDeal(this.listQuery)},sizeChange:function(e){this.listQuery.page=1,this.listQuery.page_size=e,this.getLogisticPersonDeal(this.listQuery)},getLogisticPersonDeal:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.getLogisticWorkCodeName();case 2:o["a"].getLogisticPersonDeal(e).then((function(e){if(console.log("人员列表 查询",e),0==e.code){var r=e.data.data;r.forEach((function(e){var r=e.user_authority.split(","),a="";r.forEach((function(e){t.WorkCodeNameList.forEach((function(t){e==t.work_id&&(a+=t.work_name+",")}))})),a=a.substring(0,a.length-1),e.authorityStrArr=a})),t.tableData=r,t.listQuery.total=e.data.total}else t.$message({message:e.message,type:"error"})}));case 3:case"end":return r.stop()}}),r)})))()},postLogisticPersonDeal:function(e){var t=this;o["a"].postLogisticPersonDeal(e).then((function(e){console.log("人员列表 新增",e),0==e.code?(t.dialogFlag=!1,t.getLogisticPersonDeal(t.listQuery),t.$message({message:e.message,type:"success"})):t.$message({message:e.message,type:"error"})}))},addBtn:function(){var e=this;this.dialogTitle="新增人员",this.dialogFlag=!0,this.$nextTick((function(){e.$refs.dialogFormRef.clearValidate()})),this.dialogForm=JSON.parse(JSON.stringify(this.dialogFormBase))},colEditBtn:function(e){var t=this;console.log(e),this.dialogTitle="修改人员",this.dialogFlag=!0,this.$nextTick((function(){t.$refs.dialogFormRef.clearValidate()}));var r=[];e.user_authority&&(r=e.user_authority.split(",")),this.dialogForm={user_code:e.user_code,user_id:e.user_id,user_name:e.user_name,user_password:e.user_password,user_authority:e.user_authority,user_authorityArr:r,status:e.status}},getLogisticPutPerson:function(e){var t=this;o["a"].getLogisticPutPerson(e).then((function(e){console.log("人员列表 修改",e),0==e.code?(t.dialogFlag=!1,t.getLogisticPersonDeal(t.listQuery),t.$message({message:e.message,type:"success"})):t.$message({message:e.message,type:"error"})}))},dialogSave:function(){var e=this;this.$refs.dialogFormRef.validate((function(t){if(t){if(e.dialogForm.user_authorityArr&&e.dialogForm.user_authorityArr.length>0){var r="";e.dialogForm.user_authorityArr.forEach((function(e){r+=e+","})),r=r.substring(0,r.length-1),e.dialogForm.user_authority=r}"新增人员"==e.dialogTitle?(console.log("新增人员",e.dialogForm),e.postLogisticPersonDeal(e.dialogForm)):"修改人员"==e.dialogTitle&&(console.log("修改人员",e.dialogForm),e.getLogisticPutPerson(e.dialogForm))}else e.$message({message:"请修改正确的数据格式！",type:"warning"})}))},getLogisticDeletePerson:function(e){var t=this;o["a"].getLogisticDeletePerson(e).then((function(e){console.log("人员列表 删除",e),0==e.code?(t.getLogisticPersonDeal(t.listQuery),t.$message({message:e.message,type:"success"})):t.$message({message:e.message,type:"error"})}))},colDeleteBtn:function(e){var t=this;this.$confirm("确定执行删除操作吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.getLogisticDeletePerson({user_code:e.user_code})}))}}),mounted:function(){this.getLogisticPersonDeal(this.listQuery)}},g=c,d=r("2877"),p=Object(d["a"])(g,a,i,!1,null,null,null);t["a"]=p.exports},d784:function(e,t,r){"use strict";r("ac1f");var a=r("6eeb"),i=r("d039"),l=r("b622"),s=r("9263"),n=r("9112"),o=l("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),g=l("replace"),d=function(){return!!/./[g]&&""===/./[g]("a","$0")}(),p=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,g){var f=l(e),h=!i((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),m=h&&!i((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[o]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return t=!0,null},r[f](""),!t}));if(!h||!m||"replace"===e&&(!u||!c||d)||"split"===e&&!p){var y=/./[f],v=r(f,""[e],(function(e,t,r,a,i){return t.exec===s?h&&!i?{done:!0,value:y.call(t,r,a)}:{done:!0,value:e.call(r,t,a)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),b=v[0],_=v[1];a(String.prototype,e,b),a(RegExp.prototype,f,2==t?function(e,t){return _.call(e,this,t)}:function(e){return _.call(e,this)})}g&&n(RegExp.prototype[f],"sham",!0)}}}]);
//# sourceMappingURL=chunk-6cc73412.aa1038ac.js.map