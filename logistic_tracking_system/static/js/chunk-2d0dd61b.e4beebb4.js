(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dd61b"],{"80c0":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("工站编号 : "+e._s(e.CurrentUserInfo.work_id))]),o("span",{staticClass:"ml20"},[e._v("工站名称 : "+e._s(e.workStationName))]),o("span",{staticClass:"ml20"},[e._v("工站类型 : "+e._s(e.CurrentUserInfo.work_type))])]),o("el-form",{ref:"formRef",staticStyle:{padding:"0 60px 0 20px",width:"650px"},attrs:{model:e.form,rules:e.formRules,"label-width":"100px"}},[o("el-form-item",{attrs:{prop:"count",label:"包装数量"}},[o("el-input",{ref:"firstInput",on:{input:e.inputChange},model:{value:e.form.count,callback:function(t){e.$set(e.form,"count",e._n(t))},expression:"form.count"}})],1),o("el-form-item",{attrs:{prop:"pack_id",label:"包装编码"}},[o("el-input",{model:{value:e.form.pack_id,callback:function(t){e.$set(e.form,"pack_id",t)},expression:"form.pack_id"}})],1),e._l(e.form.response_datas,(function(t,s){return o("div",{key:s+" onlyItem"},[o("el-form-item",{attrs:{prop:"response_datas."+s+".finished_product_code",rules:[],label:"产品编号"}},[o("el-input",{ref:"finishedProductCode"+s,refInFor:!0,on:{input:function(o){e.nextFocus("finishedProductCode"+(s+1),s,t.finished_product_code)}},model:{value:t.finished_product_code,callback:function(o){e.$set(t,"finished_product_code",o)},expression:"item.finished_product_code"}})],1)],1)}))],2),o("div",[o("el-button",{on:{click:e.resetForm}},[e._v("重 置")]),o("el-button",{attrs:{type:"primary"},on:{click:e.dialogSave}},[e._v("确 定")])],1)],1)],1)},r=[],i=o("5530"),n=(o("159b"),o("fd03")),a=o("2f62"),c={name:"MissStation",computed:Object(i["a"])({},Object(a["c"])(["WorkCodeNameList","CurrentUserInfo"])),data:function(){return{timeout:"",workStationName:"",form:{count:"",pack_id:"",response_datas:[]},formBase:{count:"",pack_id:"",response_datas:[]},formRules:{count:[{required:!0,message:"请输入数量",trigger:"blur"},{type:"number",message:"数量必须为数值",trigger:"blur"}],pack_id:[{required:!0,message:"请输入包装编号",trigger:"blur"}]}}},methods:Object(i["a"])(Object(i["a"])({},Object(a["b"])(["getLogisticWorkCodeName"])),{},{nextFocus:function(e,t,o){var s=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){t<s.form.response_datas.length-1?s.$nextTick((function(){s.$refs[e][0].focus()})):console.log(5789)}),500)},postLogisticFinishedProductStorage:function(e){var t=this;n["a"].postLogisticFinishedProductStorage(e).then((function(e){console.log("产品过站 新增",e),0==e.code?(t.resetForm(),t.$message({message:e.message,type:"success"})):t.$message({message:e.message,type:"error"})}))},inputChange:function(){this.form.response_datas=[];for(var e=0;e<this.form.count;e++)this.form.response_datas.push({pack_id:"",finished_product_code:""})},resetForm:function(){var e=this;this.form=JSON.parse(JSON.stringify(this.formBase)),this.$nextTick((function(){e.$refs.formRef.clearValidate()}))},dialogSave:function(){var e=this;console.log("this.form",this.form),this.$refs.formRef.validate((function(t){t?(e.form.response_datas.forEach((function(t){t.pack_id=e.form.pack_id})),console.log("产品过站",e.form),e.postLogisticFinishedProductStorage(e.form)):e.$message({message:"请修改正确的数据格式！",type:"warning"})}))}}),mounted:function(){var e=this;this.getLogisticWorkCodeName(),this.WorkCodeNameList.forEach((function(t){e.CurrentUserInfo.work_id==t.work_id&&(e.workStationName=t.work_name)})),this.$nextTick((function(){e.$refs.firstInput.focus()}))}},u=c,f=o("2877"),d=Object(f["a"])(u,s,r,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0dd61b.e4beebb4.js.map