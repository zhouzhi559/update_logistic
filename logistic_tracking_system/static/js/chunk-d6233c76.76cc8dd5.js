(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d6233c76"],{"93b0":function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[r("el-form",{ref:"loginData",staticClass:"login-page",attrs:{model:e.loginData,rules:e.rules2,"status-icon":"","label-position":"left","label-width":"100px"}},[r("h3",{staticClass:"title"},[e._v("物料追踪系统-"+e._s(e.formTitle))]),r("el-form-item",{attrs:{label:"项目",prop:"product_id"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:""},on:{change:e.getWorkCodeNameSearchList},model:{value:e.loginData.product_id,callback:function(t){e.$set(e.loginData,"product_id",t)},expression:"loginData.product_id"}},e._l(e.ProductIdNameList,(function(e,t){return r("el-option",{key:t+" search",attrs:{label:e.product_name,value:e.product_id}})})),1)],1),"用户端"==e.formTitle&&e.loginData.product_id?r("el-form-item",{attrs:{label:"工站",prop:"work_id"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.loginData.work_id,callback:function(t){e.$set(e.loginData,"work_id",t)},expression:"loginData.work_id"}},e._l(e.WorkCodeNameSearchList,(function(e,t){return r("el-option",{key:t+" search",attrs:{label:e.work_name,value:e.work_id}})})),1)],1):e._e(),r("el-form-item",{attrs:{label:"用户名",prop:"user"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"用户名"},model:{value:e.loginData.user,callback:function(t){e.$set(e.loginData,"user",t)},expression:"loginData.user"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.loginData.password,callback:function(t){e.$set(e.loginData,"password",t)},expression:"loginData.password"}})],1),r("el-checkbox",{staticClass:"rememberme",model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")]),r("el-form-item",{staticStyle:{width:"100%"}},[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.logining},on:{click:e.handleSubmit}},[e._v("登录")])],1)],1)],1)},a=[],i=r("1da1"),s=r("5530"),n=(r("96cf"),r("fd03")),l=r("2f62"),c={props:{toUrl:{type:String,default:"/"},formTitle:{type:String,default:""}},computed:Object(s["a"])({},Object(l["c"])(["ProductIdNameList","WorkCodeNameSearchList","CurrentUserInfo"])),data:function(){return{logining:!1,loginData:{product_id:"",work_id:"",user:"",password:""},rules2:{product_id:[],work_id:[{required:!0,message:"请选择工站",trigger:"change"}],user:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},checked:!1}},methods:Object(s["a"])(Object(s["a"])({},Object(l["b"])(["getLogisticGetProductId","getLogisticProjectSearchWorkcode","getLogisticCurrentUserInfo"])),{},{getWorkCodeNameSearchList:function(){console.log(123),"用户端"==this.formTitle&&this.getLogisticProjectSearchWorkcode({product_id:this.loginData.product_id})},handleSubmit:function(){var e=this;console.log(this.loginData),this.$refs.loginData.validate((function(t){t?"用户端"==e.formTitle?n["b"].getLogisticLogin(e.loginData).then((function(t){console.log("登录信息",t),t&&0==t.code?(e.getLogisticCurrentUserInfo(),n["b"].getLogisticCurrentUserInfo().then((function(t){console.log("当前登陆人的接口 userRes",t),0==t.code&&("加工"==t.data.work_type?e.$router.push({path:"/userUrl/MissStation"}):"维修"==e.CurrentUserInfo.work_type?e.$router.push({path:"/userUrl/MissStationM"}):"检验"==e.CurrentUserInfo.work_type?e.$router.push({path:"/userUrl/MissStationIPQC"}):"包装"==e.CurrentUserInfo.work_type?e.$router.push({path:"/userUrl/MissStationPack"}):"入库出库"==e.CurrentUserInfo.work_type?e.$router.push({path:"/userUrl/FinishedProductStorage"}):e.$router.push({path:e.toUrl}))}))):e.$message({message:t.message,type:"error"})})):n["b"].getLogisticManageLogisticLogin(e.loginData).then((function(t){console.log("登录信息",t),t&&0==t.code?(e.getLogisticCurrentUserInfo(),e.$router.push({path:e.toUrl})):e.$message({message:t.message,type:"error"})})):e.$message({message:"请修改正确的数据格式！",type:"warning"})}))},getProductIdNameList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLogisticGetProductId();case 2:case"end":return t.stop()}}),t)})))()}}),mounted:function(){this.getProductIdNameList(),"用户端"==this.formTitle?this.rules2.product_id=[{required:!0,message:"请选择项目",trigger:"change"}]:this.rules2.product_id=[],console.log(12336854),console.log("this.CurrentUserInfo CurrentUserInfo CurrentUserInfo ",this.CurrentUserInfo)}},u=c,d=(r("ed9f"),r("2877")),g=Object(d["a"])(u,o,a,!1,null,"8ec3bb4a",null);t["a"]=g.exports},"9ee2":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("CommonLogin",{attrs:{formTitle:e.formTitle,toUrl:e.toUrl}})},a=[],i=r("93b0"),s={name:"ManagerLogin",data:function(){return{formTitle:"管理端",toUrl:"/ProjectBOM"}},components:{CommonLogin:i["a"]}},n=s,l=r("2877"),c=Object(l["a"])(n,o,a,!1,null,null,null);t["default"]=c.exports},aa9e:function(e,t,r){},ed9f:function(e,t,r){"use strict";r("aa9e")}}]);
//# sourceMappingURL=chunk-d6233c76.76cc8dd5.js.map