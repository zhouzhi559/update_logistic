(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a8eb3a3"],{"4b93":function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"formDiv"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"产品名称"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.listQuery.product_code,callback:function(t){e.$set(e.listQuery,"product_code",t)},expression:"listQuery.product_code"}},e._l(e.ProductCodeNameList,(function(e,t){return a("el-option",{key:t+" search",attrs:{label:e.product_name,value:e.product_code}})})),1)],1),a("el-form-item",{attrs:{label:"物料名称"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.listQuery.matter_code,callback:function(t){e.$set(e.listQuery,"matter_code",t)},expression:"listQuery.matter_code"}},e._l(e.MatterCodeNameList,(function(e,t){return a("el-option",{key:t+" search",attrs:{label:e.matter_name,value:e.matter_code}})})),1)],1),a("el-form-item",{attrs:{label:"工站"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.listQuery.work_code,callback:function(t){e.$set(e.listQuery,"work_code",t)},expression:"listQuery.work_code"}},e._l(e.WorkCodeNameList,(function(e,t){return a("el-option",{key:t+" search",attrs:{label:e.work_name,value:e.work_code}})})),1)],1),a("el-form-item",{attrs:{label:"人员"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.listQuery.user_code,callback:function(t){e.$set(e.listQuery,"user_code",t)},expression:"listQuery.user_code"}},e._l(e.PersonCodeNameList,(function(e,t){return a("el-option",{key:t+" search",attrs:{label:e.user_name,value:e.user_code}})})),1)],1),a("el-form-item",{attrs:{label:"检验结果"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.listQuery.test_result,callback:function(t){e.$set(e.listQuery,"test_result",t)},expression:"listQuery.test_result"}},[a("el-option",{attrs:{label:"全部",value:""}}),a("el-option",{attrs:{label:"正常",value:"正常"}}),a("el-option",{attrs:{label:"异常",value:"异常"}})],1)],1),a("el-form-item",{staticStyle:{"margin-left":"20px !important"}},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.searchBtn}},[e._v("查询")]),a("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.resetForm()}}},[e._v("重置")])],1)],1)],1),a("el-card",{staticClass:"box-card mt20"},[a("div",{},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}}),a("ELTable",{attrs:{tableCol:e.tableCol,tableData:e.tableData,listQuery:e.listQuery,ispagination:e.ispagination},on:{currentChange:e.currentChange,sizeChange:e.sizeChange}})],1)])],1)},r=[],n=a("1da1"),l=a("5530"),i=(a("96cf"),a("159b"),a("a927")),s=a("fd03"),c=a("2f62"),u={name:"WorkStationSearch",components:{ELTable:i["a"]},data:function(){return{listQuery:{matter_code:"",user_code:"",work_code:"",test_result:"",product_plan_code:"",product_code:"",page:1,page_size:10,total:0},listQueryBase:{matter_code:"",user_code:"",work_code:"",test_result:"",product_plan_code:"",product_code:"",page:1,page_size:10,total:0},ispagination:!0,tableCol:[{label:"物料名称",field:"matter_name",align:"center"},{label:"工站",field:"work_name",align:"center"},{label:"人员",field:"user_name",align:"center"},{label:"检验结果",field:"test_result",align:"center"},{label:"出站时间",field:"out_time",align:"center"}],tableData:[]}},computed:Object(l["a"])({},Object(c["c"])(["ProductCodeNameList","ProductPlanCodeNameList","WorkCodeNameList","PersonCodeNameList","MatterCodeNameList"])),methods:Object(l["a"])(Object(l["a"])({},Object(c["b"])(["getLogisticProductCodeName","getLogisticProductPlanCodeName","getLogisticWorkCodeName","getLogisticPersonCodeName","getLogisticMatterNameCode"])),{},{searchBtn:function(){this.listQuery.page=1,this.getLogisticProductTransitInfo(this.listQuery)},resetForm:function(){this.listQuery=JSON.parse(JSON.stringify(this.listQueryBase)),this.getLogisticProductTransitInfo(this.listQuery)},currentChange:function(e){this.listQuery.page=e,this.getLogisticProductTransitInfo(this.listQuery)},sizeChange:function(e){this.listQuery.page=1,this.listQuery.page_size=e,this.getLogisticProductTransitInfo(this.listQuery)},getLogisticProductTransitInfo:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.getLogisticProductCodeName();case 2:return a.next=4,t.getLogisticProductPlanCodeName();case 4:return a.next=6,t.getLogisticWorkCodeName();case 6:return a.next=8,t.getLogisticPersonCodeName();case 8:return a.next=10,t.getLogisticMatterNameCode();case 10:s["a"].getLogisticProductTransitInfo(e).then((function(e){if(console.log("过站查询 查询",e),0==e.code){var a=e.data.data;a.forEach((function(e){t.ProductCodeNameList.forEach((function(t){e.product_code==t.product_code&&(e.product_name=t.product_name)})),t.ProductPlanCodeNameList.forEach((function(t){e.product_plan_code==t.product_plan_code&&(e.product_plan_name=t.product_plan_name)})),t.WorkCodeNameList.forEach((function(t){e.work_code==t.work_code&&(e.work_name=t.work_name)})),t.PersonCodeNameList.forEach((function(t){e.user_code==t.user_code&&(e.user_name=t.user_name)})),t.MatterCodeNameList.forEach((function(t){e.matter_code==t.matter_code&&(e.matter_name=t.matter_name)}))})),t.tableData=a,t.listQuery.total=e.data.total}else t.$message({message:e.message,type:"error"})}));case 11:case"end":return a.stop()}}),a)})))()}}),mounted:function(){this.getLogisticProductTransitInfo(this.listQuery)}},d=u,m=a("2877"),p=Object(m["a"])(d,o,r,!1,null,null,null);t["a"]=p.exports},a927:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":{background:"#eef1f6",color:"#606266"}},on:{"selection-change":e.handleSelectionChange}},[e.isShowSelect?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),e._l(e.tableCol,(function(t,o){return["solt"==t.colType?a("el-table-column",{key:o+"only",attrs:{prop:t.field,label:t.label,width:t.width,align:t.align?t.align:"left"},scopedSlots:e._u([{key:"default",fn:function(o){return e._l(t.option,(function(t,r){return a("el-button",{key:r+"only",attrs:{type:"text",size:"small"},on:{click:function(e){return t.event(o.row)}}},[e._v(e._s(t.label))])}))}}],null,!0)}):a("el-table-column",{key:o+"only",attrs:{prop:t.field,label:t.label,width:t.width,align:t.align?t.align:"left"}})]}))],2),e.ispagination?a("div",{staticClass:"pagination-wrap"},[a("el-pagination",{attrs:{"current-page":e.listQuery.page,"page-sizes":[5,10,20,30,40,50,100],"page-size":e.listQuery.page_size,layout:"total, sizes, prev, pager, next, jumper",total:e.listQuery.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1)},r=[],n={name:"ELTable",props:{tableCol:{type:Array,default:function(){return[]}},tableData:{type:Array,default:function(){return[]}},ispagination:{type:Boolean,default:!0},isShowSelect:{type:Boolean,default:!1},listQuery:{type:Object,default:function(){return{page:1,page_size:10,total:0}}}},data:function(){return{}},methods:{handleSizeChange:function(e){this.$emit("sizeChange",e)},handleCurrentChange:function(e){this.$emit("currentChange",e)},handleSelectionChange:function(e){this.$emit("handleSelectionChange",e)}}},l=n,i=a("2877"),s=Object(i["a"])(l,o,r,!1,null,"f6412f26",null);t["a"]=s.exports},aadf:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CommonWorkStationSearch")},r=[],n=a("4b93"),l={name:"",components:{CommonWorkStationSearch:n["a"]}},i=l,s=a("2877"),c=Object(s["a"])(i,o,r,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-1a8eb3a3.2c31bd42.js.map