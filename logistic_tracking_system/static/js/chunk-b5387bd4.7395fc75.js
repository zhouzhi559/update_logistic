(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b5387bd4"],{a927:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":{background:"#eef1f6",color:"#606266"}},on:{"selection-change":e.handleSelectionChange}},[e.isShowSelect?o("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),e._l(e.tableCol,(function(t,a){return["solt"==t.colType?o("el-table-column",{key:a+"only",attrs:{prop:t.field,label:t.label,width:t.width,align:t.align?t.align:"left"},scopedSlots:e._u([{key:"default",fn:function(a){return e._l(t.option,(function(t,r){return o("el-button",{key:r+"only",attrs:{type:"text",size:"small"},on:{click:function(e){return t.event(a.row)}}},[e._v(e._s(t.label))])}))}}],null,!0)}):o("el-table-column",{key:a+"only",attrs:{prop:t.field,label:t.label,width:t.width,align:t.align?t.align:"left"}})]}))],2),e.ispagination?o("div",{staticClass:"pagination-wrap"},[o("el-pagination",{attrs:{"current-page":e.listQuery.page,"page-sizes":[5,10,20,30,40,50,100],"page-size":e.listQuery.page_size,layout:"total, sizes, prev, pager, next, jumper",total:e.listQuery.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1)},r=[],l={name:"ELTable",props:{tableCol:{type:Array,default:function(){return[]}},tableData:{type:Array,default:function(){return[]}},ispagination:{type:Boolean,default:!0},isShowSelect:{type:Boolean,default:!1},listQuery:{type:Object,default:function(){return{page:1,page_size:10,total:0}}}},data:function(){return{}},methods:{handleSizeChange:function(e){this.$emit("sizeChange",e)},handleCurrentChange:function(e){this.$emit("currentChange",e)},handleSelectionChange:function(e){this.$emit("handleSelectionChange",e)}}},i=l,n=o("2877"),s=Object(n["a"])(i,a,r,!1,null,"f6412f26",null);t["a"]=s.exports},b480:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("CommonMatterProductSearch")},r=[],l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"formDiv"},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[o("el-form-item",{attrs:{label:"产品编号"}},[o("el-input",{model:{value:e.listQuery.finished_product_code,callback:function(t){e.$set(e.listQuery,"finished_product_code",t)},expression:"listQuery.finished_product_code"}})],1),o("el-form-item",{attrs:{label:"物料编号"}},[o("el-input",{model:{value:e.listQuery.matter_id,callback:function(t){e.$set(e.listQuery,"matter_id",t)},expression:"listQuery.matter_id"}})],1),o("el-form-item",{attrs:{label:"经过工站"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.listQuery.work_id,callback:function(t){e.$set(e.listQuery,"work_id",t)},expression:"listQuery.work_id"}},e._l(e.WorkCodeNameList,(function(e,t){return o("el-option",{key:t+" search",attrs:{label:e.work_name,value:e.work_id}})})),1)],1),o("el-form-item",{attrs:{label:"过站人员"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.listQuery.user_code,callback:function(t){e.$set(e.listQuery,"user_code",t)},expression:"listQuery.user_code"}},e._l(e.PersonCodeNameList,(function(e,t){return o("el-option",{key:t+" dialog",attrs:{label:e.user_name,value:e.user_code}})})),1)],1),o("el-form-item",{attrs:{label:"出站时间"}},[o("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},on:{change:e.out_time_change},model:{value:e.listQuery.out_time,callback:function(t){e.$set(e.listQuery,"out_time",t)},expression:"listQuery.out_time"}})],1),o("el-form-item",{staticStyle:{"margin-left":"20px !important"}},[o("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.searchBtn}},[e._v("查询")]),o("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.resetForm()}}},[e._v("重置")])],1)],1)],1),o("el-card",{staticClass:"box-card mt20"},[o("div",{},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}}),o("ELTable",{attrs:{tableCol:e.tableCol,tableData:e.tableData,listQuery:e.listQuery,ispagination:e.ispagination},on:{currentChange:e.currentChange,sizeChange:e.sizeChange}})],1)]),o("el-dialog",{attrs:{title:e.dialogTitle,width:"1000px",visible:e.dialogFlag,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFlag=t}}},[o("el-form",{ref:"dialogFormRef",staticStyle:{padding:"0 60px 0 20px"},attrs:{model:e.dialogForm,rules:e.dialogFormRules,"label-width":"100px"}},[o("el-row",[o("p",{staticClass:"dialog-title"},[e._v("基本信息")]),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"物料名称",prop:"matter_name"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.matter_name,callback:function(t){e.$set(e.dialogForm,"matter_name",t)},expression:"dialogForm.matter_name"}})],1),o("el-form-item",{attrs:{label:"规格型号",prop:"rule"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.rule,callback:function(t){e.$set(e.dialogForm,"rule",t)},expression:"dialogForm.rule"}})],1),o("el-form-item",{attrs:{label:"入库时间",prop:"product_time"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.product_time,callback:function(t){e.$set(e.dialogForm,"product_time",t)},expression:"dialogForm.product_time"}})],1),o("el-form-item",{attrs:{label:"过站人员",prop:"user_code"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.user_code,callback:function(t){e.$set(e.dialogForm,"user_code",t)},expression:"dialogForm.user_code"}})],1),o("el-form-item",{attrs:{label:"产品编号",prop:"finished_product_code"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.finished_product_code,callback:function(t){e.$set(e.dialogForm,"finished_product_code",t)},expression:"dialogForm.finished_product_code"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"物料编号",prop:"matter_id"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.matter_id,callback:function(t){e.$set(e.dialogForm,"matter_id",t)},expression:"dialogForm.matter_id"}})],1),o("el-form-item",{attrs:{label:"类型",prop:"matter_category"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.matter_category,callback:function(t){e.$set(e.dialogForm,"matter_category",t)},expression:"dialogForm.matter_category"}})],1),o("el-form-item",{attrs:{label:"经过工站",prop:"work_name"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.work_name,callback:function(t){e.$set(e.dialogForm,"work_name",t)},expression:"dialogForm.work_name"}})],1),o("el-form-item",{attrs:{label:"出站时间",prop:"out_time"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.out_time,callback:function(t){e.$set(e.dialogForm,"out_time",t)},expression:"dialogForm.out_time"}})],1)],1)],1),o("p",{staticClass:"dialog-title"},[e._v("产品明细")]),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"产品名称",prop:"product_obj.product_name"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.product_obj.product_name,callback:function(t){e.$set(e.dialogForm.product_obj,"product_name",t)},expression:"dialogForm.product_obj.product_name"}})],1),o("el-form-item",{attrs:{label:"规格型号",prop:"product_obj.rule"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.product_obj.rule,callback:function(t){e.$set(e.dialogForm.product_obj,"rule",t)},expression:"dialogForm.product_obj.rule"}})],1),o("el-form-item",{attrs:{label:"状态",prop:"product_obj.status"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.product_obj.status,callback:function(t){e.$set(e.dialogForm.product_obj,"status",t)},expression:"dialogForm.product_obj.status"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"产品编号",prop:"product_obj.finished_product_code"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.product_obj.finished_product_code,callback:function(t){e.$set(e.dialogForm.product_obj,"finished_product_code",t)},expression:"dialogForm.product_obj.finished_product_code"}})],1),o("el-form-item",{attrs:{label:"包装编码",prop:"product_obj.pack_id"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.product_obj.pack_id,callback:function(t){e.$set(e.dialogForm.product_obj,"pack_id",t)},expression:"dialogForm.product_obj.pack_id"}})],1),o("el-form-item",{attrs:{label:"时间",prop:"product_obj.enter_time"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.product_obj.enter_time,callback:function(t){e.$set(e.dialogForm.product_obj,"enter_time",t)},expression:"dialogForm.product_obj.enter_time"}})],1)],1)],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFlag=!1}}},[e._v("确 定")])],1)],1)],1)},i=[],n=o("1da1"),s=o("5530"),c=(o("96cf"),o("159b"),o("a927")),d=o("fd03"),u=o("2f62"),m={name:"MatterProductSearch",components:{ELTable:c["a"]},data:function(){return{listQuery:{finished_product_code:"",matter_id:"",work_id:"",user_code:"",out_time:[],out_start_time:"",out_end_time:"",page:1,page_size:10,total:0},listQueryBase:{finished_product_code:"",matter_id:"",work_id:"",user_code:"",out_time:[],out_start_time:"",out_end_time:"",page:1,page_size:10,total:0},ispagination:!0,tableCol:[{label:"物料名称",field:"matter_name",align:"center"},{label:"物料编号",field:"matter_id",align:"center"},{label:"规格型号",field:"rule",align:"center"},{label:"类型",field:"matter_category",align:"center"},{label:"入库时间",field:"product_time",align:"center"},{label:"经过工站",field:"work_name",align:"center"},{label:"过站人员",field:"user_name",align:"center"},{label:"出站时间",field:"out_time",align:"center"},{label:"产品编号",field:"finished_product_code",align:"center"},{label:"操作",colType:"solt",align:"center",option:[{label:"详情",event:this.colDetailBtn}]}],tableData:[],NoPageProductData:[],dialogFlag:!1,dialogForm:{matter_name:"",matter_id:"",rule:"",matter_category:"",product_time:"",work_name:"",user_code:"",out_time:"",finished_product_code:"",product_obj:{prodect_code:"",finished_product_code:"",status:"",rule:"",pack_id:"",enter_time:""}},dialogFormBase:{matter_name:"",matter_id:"",rule:"",matter_category:"",product_time:"",work_name:"",user_code:"",out_time:"",finished_product_code:"",product_obj:{prodect_code:"",finished_product_code:"",status:"",rule:"",pack_id:"",enter_time:""}}}},computed:Object(s["a"])({},Object(u["c"])(["PersonCodeNameList","WorkCodeNameList"])),methods:Object(s["a"])(Object(s["a"])({},Object(u["b"])(["getLogisticPersonCodeName","getLogisticWorkCodeName"])),{},{out_time_change:function(){console.log("this.listQuery.out_time",this.listQuery.out_time),this.listQuery.out_time.length>0&&(this.listQuery.out_start_time=this.listQuery.out_time[0],this.listQuery.out_end_time=this.listQuery.out_time[1])},getLogisticNoPageProductInfoSearch:function(){var e=this;d["a"].getLogisticNoPageProductInfoSearch().then((function(t){console.log("通过物料 查询产品编号",t),0==t.code?e.NoPageProductData=t.data.data:e.$message({message:t.message,type:"error"})}))},searchBtn:function(){this.listQuery.page=1,this.getLogisticMatterSearch(this.listQuery)},resetForm:function(){this.listQuery=JSON.parse(JSON.stringify(this.listQueryBase)),this.getLogisticMatterSearch(this.listQuery)},currentChange:function(e){this.listQuery.page=e,this.getLogisticMatterSearch(this.listQuery)},sizeChange:function(e){this.listQuery.page=1,this.listQuery.page_size=e,this.getLogisticMatterSearch(this.listQuery)},getLogisticMatterSearch:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.getLogisticPersonCodeName();case 2:d["a"].getLogisticMatterSearch(e).then((function(e){if(console.log("过站查询 查询",e),0==e.code){var o=e.data.data;o.forEach((function(e){t.PersonCodeNameList.forEach((function(t){e.user_code==t.user_code&&(e.user_name=t.user_name)}))})),t.tableData=o,t.listQuery.total=e.data.total}else t.$message({message:e.message,type:"error"})}));case 3:case"end":return o.stop()}}),o)})))()},colDetailBtn:function(e){var t=this;console.log(e),this.dialogTitle="物料详情",this.dialogFlag=!0,this.dialogForm={matter_name:e.matter_name,matter_id:e.matter_id,rule:e.rule,matter_category:e.matter_category,product_time:e.product_time,work_name:e.work_name,user_code:e.user_code,out_time:e.out_time,finished_product_code:e.finished_product_code,response_datas:e.response_datas},this.NoPageProductData.forEach((function(o){e.finished_product_code==o.finished_product_code&&(t.dialogForm.product_obj=JSON.parse(JSON.stringify(o)))})),console.log("dialogTbaleData",dialogTbaleData)}}),mounted:function(){this.getLogisticWorkCodeName(),this.getLogisticMatterSearch(this.listQuery),this.getLogisticNoPageProductInfoSearch()}},_=m,p=o("2877"),g=Object(p["a"])(_,l,i,!1,null,null,null),f=g.exports,h={name:"",components:{CommonMatterProductSearch:f}},b=h,y=Object(p["a"])(b,a,r,!1,null,null,null);t["default"]=y.exports}}]);
//# sourceMappingURL=chunk-b5387bd4.7395fc75.js.map