(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b55e3b8e"],{"7b35":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"formDiv"},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[i("el-form-item",{attrs:{label:"工站编号"}},[i("el-input",{model:{value:e.listQuery.work_id,callback:function(t){e.$set(e.listQuery,"work_id",t)},expression:"listQuery.work_id"}})],1),i("el-form-item",{attrs:{label:"工站名称"}},[i("el-input",{model:{value:e.listQuery.work_name,callback:function(t){e.$set(e.listQuery,"work_name",t)},expression:"listQuery.work_name"}})],1),i("el-form-item",{staticStyle:{"margin-left":"20px !important"}},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.searchBtn}},[e._v("查询")]),i("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.resetForm()}}},[e._v("重置")])],1)],1)],1),i("el-card",{staticClass:"box-card mt20"},[i("div",{},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[i("el-form-item",[i("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:e.addUser}},[i("i",{staticClass:"el-icon-plus"}),e._v(" 新增")])],1)],1),i("ELTable",{attrs:{tableCol:e.tableCol,tableData:e.tableData,listQuery:e.listQuery,ispagination:e.ispagination},on:{currentChange:e.currentChange,sizeChange:e.sizeChange}})],1)]),i("el-dialog",{attrs:{title:e.dialogTitle,width:"600px",visible:e.dialogFlag,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFlag=t}}},[i("el-form",{ref:"dialogFormRef",staticStyle:{padding:"0 60px 0 20px"},attrs:{model:e.dialogForm,rules:e.dialogFormRules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"工站编号",prop:"work_id"}},[i("el-input",{attrs:{readonly:e.workIdReadonly},model:{value:e.dialogForm.work_id,callback:function(t){e.$set(e.dialogForm,"work_id",t)},expression:"dialogForm.work_id"}})],1),i("el-form-item",{attrs:{label:"工站名称",prop:"work_name"}},[i("el-input",{model:{value:e.dialogForm.work_name,callback:function(t){e.$set(e.dialogForm,"work_name",t)},expression:"dialogForm.work_name"}})],1),i("el-form-item",{attrs:{label:"工站类型",prop:"work_type"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.dialogForm.work_type,callback:function(t){e.$set(e.dialogForm,"work_type",t)},expression:"dialogForm.work_type"}},[i("el-option",{attrs:{label:"加工",value:"加工"}}),i("el-option",{attrs:{label:"维修",value:"维修"}}),i("el-option",{attrs:{label:"包装",value:"包装"}}),i("el-option",{attrs:{label:"检验",value:"检验"}}),i("el-option",{attrs:{label:"入库出库",value:"入库出库"}})],1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFlag=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.dialogSave}},[e._v("确 定")])],1)],1)],1)},a=[],l=i("a927"),n=i("fd03"),r={name:"WorkstationList",components:{ELTable:l["a"]},data:function(){return{workIdReadonly:!1,listQuery:{work_id:"",work_name:"",page:1,page_size:10,total:0},listQueryBase:{work_id:"",work_name:"",page:1,page_size:10,total:0},ispagination:!0,dialogTitle:"",dialogFlag:!1,dialogForm:{work_id:"",work_name:"",work_type:""},dialogFormBase:{work_id:"",work_name:"",work_type:""},dialogFormRules:{work_id:[{required:!0,message:"请输入工站编号",trigger:"blur"},{min:3,max:18,message:"长度为3~18个字节!",trigger:"blur"},{trigger:"blur",validator:function(e,t,i){var o=/^[a-z_]+$/;console.log(o.test(t)),o.test(t)?i():i(new Error("仅允许小写字母和下划线!"))}}],work_name:[{required:!0,message:"请输入工站名称",trigger:"blur"}],work_type:[{required:!0,message:"请选择工站类型",trigger:"change"}]},tableCol:[{label:"工站内码",field:"work_code",align:"center"},{label:"工站编号",field:"work_id",align:"center"},{label:"工站名称",field:"work_name",align:"center"},{label:"工站类型",field:"work_type",align:"center"},{label:"操作",colType:"solt",align:"center",option:[{label:"修改",event:this.colEditBtn},{label:"删除",event:this.colDeleteBtn}]}],tableData:[]}},methods:{searchBtn:function(){this.listQuery.page=1,this.getLogisticWorkStation(this.listQuery)},resetForm:function(){this.listQuery=JSON.parse(JSON.stringify(this.listQueryBase)),this.getLogisticWorkStation(this.listQuery)},currentChange:function(e){this.listQuery.page=e,this.getLogisticWorkStation(this.listQuery)},sizeChange:function(e){this.listQuery.page=1,this.listQuery.page_size=e,this.getLogisticWorkStation(this.listQuery)},getLogisticWorkStation:function(e){var t=this;n["a"].getLogisticWorkStation(e).then((function(e){console.log("工站列表 查询",e),0==e.code?(t.tableData=e.data.data,t.listQuery.total=e.data.total):t.$message({message:e.message,type:"error"})}))},postLogisticWorkStation:function(e){var t=this;n["a"].postLogisticWorkStation(e).then((function(e){console.log("工站列表 新增",e),0==e.code?(t.dialogFlag=!1,t.getLogisticWorkStation(t.listQuery),t.$message({message:e.message,type:"success"})):t.$message({message:e.message,type:"error"})}))},addUser:function(){var e=this;this.dialogTitle="新增工站",this.dialogFlag=!0,this.workIdReadonly=!1,this.$nextTick((function(){e.$refs.dialogFormRef.clearValidate()})),this.dialogForm=JSON.parse(JSON.stringify(this.dialogFormBase))},colEditBtn:function(e){var t=this;console.log(e),this.dialogTitle="修改工站",this.dialogFlag=!0,this.workIdReadonly=!0,this.$nextTick((function(){t.$refs.dialogFormRef.clearValidate()})),this.dialogForm={work_code:e.work_code,work_id:e.work_id,work_name:e.work_name,work_type:e.work_type}},getLogisticPutWorkStation:function(e){var t=this;n["a"].getLogisticPutWorkStation(e).then((function(e){console.log("工站列表 修改",e),0==e.code?(t.dialogFlag=!1,t.getLogisticWorkStation(t.listQuery),t.$message({message:e.message,type:"success"})):t.$message({message:e.message,type:"error"})}))},dialogSave:function(){var e=this;console.log(this.dialogTitle),this.$refs.dialogFormRef.validate((function(t){t?"新增工站"==e.dialogTitle?(console.log("新增工站",e.dialogForm),e.postLogisticWorkStation(e.dialogForm)):"修改工站"==e.dialogTitle&&(console.log("修改工站",e.dialogForm),e.getLogisticPutWorkStation(e.dialogForm)):e.$message({message:"请修改正确的数据格式！",type:"warning"})}))},getLogisticDeleteWorkStation:function(e){var t=this;n["a"].getLogisticDeleteWorkStation(e).then((function(e){console.log("工站列表 删除",e),0==e.code?(t.getLogisticWorkStation(t.listQuery),t.$message({message:e.message,type:"success"})):t.$message({message:e.message,type:"error"})}))},colDeleteBtn:function(e){var t=this;this.$confirm("确定执行删除操作吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){console.log(123),t.getLogisticDeleteWorkStation({work_id:e.work_id})}))}},mounted:function(){this.getLogisticWorkStation(this.listQuery)}},s=r,g=i("2877"),c=Object(g["a"])(s,o,a,!1,null,null,null);t["default"]=c.exports},a927:function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":{background:"#eef1f6",color:"#606266"}},on:{"selection-change":e.handleSelectionChange}},[e.isShowSelect?i("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),e._l(e.tableCol,(function(t,o){return["solt"==t.colType?i("el-table-column",{key:o+"only",attrs:{prop:t.field,label:t.label,width:t.width,align:t.align?t.align:"left"},scopedSlots:e._u([{key:"default",fn:function(o){return e._l(t.option,(function(t,a){return i("el-button",{key:a+"only",attrs:{type:"text",size:"small"},on:{click:function(e){return t.event(o.row)}}},[e._v(e._s(t.label))])}))}}],null,!0)}):i("el-table-column",{key:o+"only",attrs:{prop:t.field,label:t.label,width:t.width,align:t.align?t.align:"left"}})]}))],2),e.ispagination?i("div",{staticClass:"pagination-wrap"},[i("el-pagination",{attrs:{"current-page":e.listQuery.page,"page-sizes":[5,10,20,30,40,50,100],"page-size":e.listQuery.page_size,layout:"total, sizes, prev, pager, next, jumper",total:e.listQuery.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1)},a=[],l={name:"ELTable",props:{tableCol:{type:Array,default:function(){return[]}},tableData:{type:Array,default:function(){return[]}},ispagination:{type:Boolean,default:!0},isShowSelect:{type:Boolean,default:!1},listQuery:{type:Object,default:function(){return{page:1,page_size:10,total:0}}}},data:function(){return{}},methods:{handleSizeChange:function(e){this.$emit("sizeChange",e)},handleCurrentChange:function(e){this.$emit("currentChange",e)},handleSelectionChange:function(e){this.$emit("handleSelectionChange",e)}}},n=l,r=i("2877"),s=Object(r["a"])(n,o,a,!1,null,"f6412f26",null);t["a"]=s.exports}}]);
//# sourceMappingURL=chunk-b55e3b8e.57a630c1.js.map